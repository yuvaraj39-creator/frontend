<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Details | U1 Technology Institute</title>
    <link rel="icon" type="image/x-icon" href="https://via.placeholder.com/32x32/800020/FFFFFF?text=U1">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#800020',
                        primaryDark: '#600018',
                        accent: '#FFB6C1',
                        badgeOrange: '#FF8C00',
                    },
                    fontFamily: {
                        poppins: ['Poppins', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #FAFAFA;
            color: #333333;
        }

        .price-tag {
            transition: all 0.3s ease;
        }

        .accordion-content {
            transition: max-height 0.3s ease;
            overflow: hidden;
        }

        .hero-slide {
            transition: opacity 0.7s ease-in-out;
        }

        .mode-toggle.active {
            background-color: #800020;
            color: white;
        }

        .mode-toggle:not(.active) {
            background-color: white;
            color: #800020;
        }

        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid #800020;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fadeIn {
            animation: fadeIn 0.8s ease-out forwards;
        }

        .seller-badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 8px;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 4px;
            margin-bottom: 4px;
        }

        .seller-badge.best-seller {
            background-color: #FFD700;
            color: #000000;
        }

        .seller-badge.top-rated {
            background-color: #4ADE80;
            color: #000000;
        }

        .seller-badge.most-popular {
            background-color: #60A5FA;
            color: #000000;
        }

        .seller-badge.trending-now {
            background-color: #F97316;
            color: #FFFFFF;
        }

        .seller-badge.student-favorite {
            background-color: #A855F7;
            color: #FFFFFF;
        }

        .seller-badge.bestseller {
            background-color: #FACC15;
            color: #000000;
        }

        .seller-badge.hot-pick {
            background-color: #EF4444;
            color: #FFFFFF;
        }

        .seller-badge.editors-choice {
            background-color: #3B82F6;
            color: #FFFFFF;
        }

        .seller-badge.featured-course {
            background-color: #10B981;
            color: #FFFFFF;
        }

        .seller-badge.highly-recommended {
            background-color: #EAB308;
            color: #000000;
        }

        .seller-badge.top-choice {
            background-color: #6366F1;
            color: #FFFFFF;
        }

        /* Toast Notification Styles */
        .toast-container {
            position: fixed;
            top: 100px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .toast {
            min-width: 300px;
            padding: 16px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 12px;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            background: white;
            border-left: 4px solid #800020;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.success {
            border-left-color: #10B981;
        }

        .toast.error {
            border-left-color: #EF4444;
        }

        .toast.warning {
            border-left-color: #F59E0B;
        }

        .toast.info {
            border-left-color: #3B82F6;
        }

        .toast-icon {
            font-size: 20px;
            flex-shrink: 0;
        }

        .toast.success .toast-icon {
            color: #10B981;
        }

        .toast.error .toast-icon {
            color: #EF4444;
        }

        .toast.warning .toast-icon {
            color: #F59E0B;
        }

        .toast.info .toast-icon {
            color: #3B82F6;
        }

        .toast-content {
            flex: 1;
        }

        .toast-title {
            font-weight: 600;
            margin-bottom: 4px;
            color: #1F2937;
        }

        .toast-message {
            color: #6B7280;
            font-size: 14px;
        }

        .toast-close {
            background: none;
            border: none;
            font-size: 16px;
            color: #9CA3AF;
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .toast-close:hover {
            color: #6B7280;
            background: #F3F4F6;
        }
    </style>
</head>

<body class="antialiased">
    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Sticky Header -->
    <header class="sticky top-0 z-50 bg-white shadow-md">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <div class="h-12 w-12 bg-[#800020] rounded-full flex items-center justify-center mr-2">
                    <span class="text-white font-bold text-lg">U1</span>
                </div>
                <span class="text-xl font-semibold text-primary">U1 Technology Institute</span>
            </div>

            <div class="hidden md:flex space-x-8">
                <a href="index.html"
                    class="text-gray-700 hover:text-primary transition-colors relative after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all hover:after:w-full">Home</a>
                <a href="courses.html"
                    class="text-primary font-medium relative after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-primary">Courses</a>
                <a href="#"
                    class="text-gray-700 hover:text-primary transition-colors relative after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all hover:after:w-full">Faculty</a>
                <a href="#"
                    class="text-gray-700 hover:text-primary transition-colors relative after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all hover:after:w-full">Contact</a>
            </div>

            <button class="md:hidden text-gray-700 focus:outline-none">
                <i class="fas fa-bars text-2xl"></i>
            </button>
        </nav>
    </header>

    <!-- Loading State -->
    <div id="loading-state" class="container mx-auto px-6 py-16">
        <div class="text-center">
            <div class="loading-spinner mb-4"></div>
            <p class="text-gray-600">Loading course information...</p>
        </div>
    </div>

    <!-- Course Content (initially hidden) -->
    <div id="course-content" class="hidden">
        <!-- Improved Hero Slider -->
        <section class="relative overflow-hidden bg-gradient-to-br from-gray-900 to-primaryDark">
            <div class="container mx-auto px-6 py-12 md:py-20">
                <div class="flex flex-col lg:flex-row items-center gap-10">

                    <!-- Left Content -->
                    <div class="lg:w-1/2 text-white">
                        <!-- Seller Badge -->
                        <div id="seller-badge"
                            class="inline-flex items-center bg-badgeOrange px-3 py-1 rounded-full mb-4">
                            <i class="fas fa-star text-white mr-2"></i>
                            <span id="seller-text" class="text-white font-semibold uppercase tracking-wide text-sm">Best
                                Seller</span>
                        </div>
                        <h1 id="course-title" class="text-4xl md:text-5xl font-bold mb-4">Course Title</h1>
                        <p id="course-mini-description" class="text-xl mb-8 text-gray-200">Course mini description</p>

                        <!-- Tools & Languages -->
                        <div id="tools-section" class="mb-8 hidden">
                            <div id="tools-container" class="flex flex-wrap gap-4">
                                <!-- Tools will be dynamically added here -->
                            </div>
                        </div>

                        <!-- Features List -->
                        <div id="course-features" class="mb-8 space-y-4">
                            <!-- Features will be dynamically added here -->
                        </div>

                        <!-- Price and Enroll Button -->
                        <div class="flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-8">
                            <div id="price-tag"
                                class="price-tag bg-primary text-white px-6 py-3 rounded-full shadow-lg">
                                <span id="online-price" class="font-bold text-xl">₹2999</span>
                                <span id="original-price" class="text-sm line-through ml-2 opacity-75 hidden"></span>
                                <span id="discount-percentage" class="text-sm font-bold ml-2 hidden"></span>
                            </div>
                            <button
                                class="enroll-btn bg-accent text-primary px-8 py-3 rounded-lg font-bold shadow-lg transition-all hover:bg-white hover:text-primaryDark transform hover:scale-105">
                                Enroll Now
                            </button>
                        </div>
                    </div>

                    <!-- Right Content with Mode Toggle -->
                    <div class="lg:w-1/2">
                        <div class="bg-white rounded-2xl shadow-2xl overflow-hidden">
                            <!-- Mode Toggle -->
                            <div class="flex border-b">
                                <button class="mode-toggle flex-1 py-4 text-center font-semibold active"
                                    data-mode="online">
                                    <i class="fas fa-laptop-house mr-2"></i>Online Class
                                </button>
                                <button class="mode-toggle flex-1 py-4 text-center font-semibold" data-mode="offline">
                                    <i class="fas fa-building mr-2"></i>Offline Class
                                </button>
                            </div>

                            <!-- Image Container -->
                            <div class="relative h-80 md:h-96 overflow-hidden">
                                <!-- Online Class Image -->
                                <div class="hero-slide absolute inset-0 opacity-100" data-mode="online">
                                    <img id="course-image-online" src="" alt="Online Course"
                                        class="h-full w-full object-cover">
                                    <div
                                        class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent flex items-end">
                                        <div class="p-6 text-white">
                                            <h3 class="text-xl font-bold mb-2">Learn from Anywhere</h3>
                                            <p>Join live interactive sessions with expert instructors</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Offline Class Image -->
                                <div class="hero-slide absolute inset-0 opacity-0" data-mode="offline">
                                    <img id="course-image-offline" src="" alt="Offline Course"
                                        class="h-full w-full object-cover">
                                    <div
                                        class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent flex items-end">
                                        <div class="p-6 text-white">
                                            <h3 class="text-xl font-bold mb-2">Hands-on Classroom Experience</h3>
                                            <p>Learn in our state-of-the-art facilities with direct mentorship</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Mode-specific Details -->
                            <div class="p-6">
                                <div class="mode-details" data-mode="online">
                                    <h3 class="font-bold text-lg text-primary mb-2">Online Class Features</h3>
                                    <ul class="text-gray-600 space-y-2">
                                        <li class="flex items-start">
                                            <i class="fas fa-video text-primary mr-2 mt-1"></i>
                                            <span>Live interactive sessions with screen sharing</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-clock text-primary mr-2 mt-1"></i>
                                            <span>Flexible schedule with recorded sessions</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-users text-primary mr-2 mt-1"></i>
                                            <span>Virtual collaboration with peers</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-download text-primary mr-2 mt-1"></i>
                                            <span>Downloadable resources and code samples</span>
                                        </li>
                                    </ul>
                                </div>

                                <div class="mode-details hidden" data-mode="offline">
                                    <h3 class="font-bold text-lg text-primary mb-2">Offline Class Features</h3>
                                    <ul class="text-gray-600 space-y-2">
                                        <li class="flex items-start">
                                            <i class="fas fa-chalkboard-teacher text-primary mr-2 mt-1"></i>
                                            <span>In-person instruction with direct mentorship</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-laptop-code text-primary mr-2 mt-1"></i>
                                            <span>Access to high-end development workstations</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-network-wired text-primary mr-2 mt-1"></i>
                                            <span>Networking opportunities with industry professionals</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-certificate text-primary mr-2 mt-1"></i>
                                            <span>Physical certificate upon completion</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Course Info Section -->
        <section class="container mx-auto px-6 py-16">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold mb-6 text-primary">Course Description</h2>
                <div id="course-description" class="text-justify leading-relaxed space-y-4">
                    <!-- Course description will be inserted here -->
                </div>
            </div>
        </section>

        <!-- What You'll Learn -->
        <section class="bg-gray-50 py-16">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold mb-12 text-center text-primary">What You'll Learn</h2>
                <div id="learn-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Learning points will be dynamically added here -->
                </div>
            </div>
        </section>

        <!-- Curriculum -->
        <section class="container mx-auto px-6 py-16">
            <h2 class="text-3xl font-bold mb-12 text-center text-primary">Course Curriculum</h2>
            <div id="curriculum-container" class="max-w-4xl mx-auto">
                <!-- Curriculum sections will be dynamically added here -->
            </div>
        </section>

        <!-- CTA Banner -->
        <section class="bg-primary py-16">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-6">Take the next step in your learning journey
                </h2>
                <p class="text-white/90 mb-8 max-w-2xl mx-auto">Join thousands of students who have transformed their
                    careers with our comprehensive courses.</p>
                <button
                    class="bg-white text-primary px-8 py-4 rounded-lg font-bold text-lg shadow-lg transition-all hover:bg-primaryDark hover:text-white transform hover:scale-105">
                    Join Now
                </button>
            </div>
        </section>
    </div>

    <!-- Error State -->
    <div id="error-state" class="container mx-auto px-6 py-16 hidden">
        <div class="text-center">
            <i class="fas fa-exclamation-triangle text-6xl text-red-500 mb-4"></i>
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Course Not Found</h2>
            <p class="text-gray-600 mb-8">The course you're looking for doesn't exist or may have been removed.</p>
            <a href="courses.html"
                class="bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-primaryDark transition-colors">
                Browse All Courses
            </a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white pt-16 pb-8">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12">
                <div>
                    <div class="flex items-center space-x-2 mb-6">
                        <div class="h-12 w-12 bg-[#800020] rounded-full flex items-center justify-center mr-2">
                            <span class="text-white font-bold text-lg">U1</span>
                        </div>
                        <span class="text-xl font-semibold">U1 Technology Institute</span>
                    </div>
                    <p class="text-gray-400">Empowering the next generation of technology professionals through
                        innovative education.</p>
                </div>

                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-400 hover:text-white transition-colors">Home</a></li>
                        <li><a href="courses.html" class="text-gray-400 hover:text-white transition-colors">Courses</a>
                        </li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Faculty</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Contact</a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-lg font-semibold mb-4">Contact Us</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li class="flex items-start">
                            <i class="fas fa-envelope mt-1 mr-3"></i>
                            <span>info@u1technology.edu</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-phone-alt mt-1 mr-3"></i>
                            <span>+91 9876543210</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-map-marker-alt mt-1 mr-3"></i>
                            <span>123 Tech Park, Bangalore, India</span>
                        </li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-lg font-semibold mb-4">Follow Us</h3>
                    <div class="flex space-x-4">
                        <a href="#"
                            class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-white hover:bg-primary transition-colors">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#"
                            class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-white hover:bg-primary transition-colors">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#"
                            class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-white hover:bg-primary transition-colors">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="#"
                            class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center text-white hover:bg-primary transition-colors">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
            </div>

            <div class="border-t border-gray-800 mt-12 pt-8 text-center text-gray-500">
                <p>© 2025 U1 Technology Institute. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // API Configuration
        const API_BASE_URL = 'http://localhost:3000/api';

        // DOM elements
        const loadingState = document.getElementById('loading-state');
        const courseContent = document.getElementById('course-content');
        const errorState = document.getElementById('error-state');
        const toastContainer = document.getElementById('toast-container');

        // Course elements
        const sellerBadge = document.getElementById('seller-badge');
        const sellerText = document.getElementById('seller-text');
        const courseTitle = document.getElementById('course-title');
        const courseMiniDescription = document.getElementById('course-mini-description');
        const courseFeatures = document.getElementById('course-features');
        const priceTag = document.getElementById('price-tag');
        const onlinePrice = document.getElementById('online-price');
        const originalPrice = document.getElementById('original-price');
        const discountPercentage = document.getElementById('discount-percentage');
        const courseImageOnline = document.getElementById('course-image-online');
        const courseImageOffline = document.getElementById('course-image-offline');
        const courseDescription = document.getElementById('course-description');
        const toolsSection = document.getElementById('tools-section');
        const toolsContainer = document.getElementById('tools-container');
        const learnContainer = document.getElementById('learn-container');
        const curriculumContainer = document.getElementById('curriculum-container');

        // Global variables
        let currentCourse = null;

        // Toast Notification System
        function showToast(title, message, type = 'info', duration = 5000) {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;

            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };

            toast.innerHTML = `
                <i class="toast-icon ${icons[type]}"></i>
                <div class="toast-content">
                    <div class="toast-title">${title}</div>
                    <div class="toast-message">${message}</div>
                </div>
                <button class="toast-close">
                    <i class="fas fa-times"></i>
                </button>
            `;

            toastContainer.appendChild(toast);

            // Animate in
            setTimeout(() => toast.classList.add('show'), 100);

            // Close button functionality
            const closeBtn = toast.querySelector('.toast-close');
            closeBtn.addEventListener('click', () => {
                removeToast(toast);
            });

            // Auto remove after duration
            if (duration > 0) {
                setTimeout(() => {
                    removeToast(toast);
                }, duration);
            }

            return toast;
        }

        function removeToast(toast) {
            toast.classList.remove('show');
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.parentNode.removeChild(toast);
                }
            }, 300);
        }

        // Get course ID from URL
        function getCourseIdFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('id');
        }

        // Format Indian Rupee
        function formatINR(amount) {
            return '₹' + amount.toLocaleString('en-IN');
        }

        // Create seller badge HTML
        function createSellerBadge(seller) {
            if (!seller) return '';

            const sellerClassMap = {
                'Best Seller': 'best-seller',
                'Top Rated': 'top-rated',
                'Most Popular': 'most-popular',
                'Trending Now': 'trending-now',
                'Student Favorite': 'student-favorite',
                'Bestseller': 'bestseller',
                'Hot Pick': 'hot-pick',
                'Editor\'s Choice': 'editors-choice',
                'Featured Course': 'featured-course',
                'Highly Recommended': 'highly-recommended',
                'Top Choice': 'top-choice'
            };

            const badgeClass = sellerClassMap[seller] || 'best-seller';

            return `<span class="seller-badge ${badgeClass}">${seller}</span>`;
        }

        // Load course data
        async function loadCourseData() {
            const courseId = getCourseIdFromURL();

            if (!courseId) {
                showErrorState();
                return;
            }

            try {
                const response = await fetch(`${API_BASE_URL}/courses/${courseId}`);
                const result = await response.json();

                if (result.success) {
                    currentCourse = result.data.course;
                    displayCourseData(currentCourse);
                    showToast('Success', 'Course information loaded successfully!', 'success', 3000);
                } else {
                    showErrorState();
                    showToast('Error', 'Failed to load course information', 'error');
                }
            } catch (error) {
                console.error('Error loading course:', error);
                showErrorState();
                showToast('Connection Error', 'Unable to connect to the server. Please check your connection.', 'error');
            }
        }

        // Display course data
        function displayCourseData(course) {
            // Update page title
            document.title = `${course.title} | U1 Technology Institute`;

            // Seller badge
            if (course.seller) {
                sellerText.textContent = course.seller;
                // Apply the correct badge color based on seller type
                const badgeClassMap = {
                    'Best Seller': 'best-seller',
                    'Top Rated': 'top-rated',
                    'Most Popular': 'most-popular',
                    'Trending Now': 'trending-now',
                    'Student Favorite': 'student-favorite',
                    'Bestseller': 'bestseller',
                    'Hot Pick': 'hot-pick',
                    'Editor\'s Choice': 'editors-choice',
                    'Featured Course': 'featured-course',
                    'Highly Recommended': 'highly-recommended',
                    'Top Choice': 'top-choice'
                };

                const badgeClass = badgeClassMap[course.seller] || 'best-seller';
                sellerBadge.className = `seller-badge ${badgeClass} inline-flex items-center px-3 py-1 rounded-full mb-4`;
                sellerBadge.innerHTML = `
                    <i class="fas fa-star mr-2"></i>
                    <span class="font-semibold uppercase tracking-wide text-sm">${course.seller}</span>
                `;
            } else {
                sellerBadge.style.display = 'none';
            }

            // Basic course info
            courseTitle.textContent = course.title;
            courseMiniDescription.textContent = course.miniDescription || course.description.substring(0, 150) + '...';

            // Tools & Languages
            if (course.toolsLanguage && course.toolsLanguage.length > 0) {
                toolsSection.classList.remove('hidden');
                toolsContainer.innerHTML = course.toolsLanguage.map(tool =>
                    `<div class="flex items-center text-white">
                        <i class="fas fa-check-circle text-accent mr-2"></i>
                        <span>${tool}</span>
                    </div>`
                ).join('');
            }

            // Set initial pricing (online mode)
            updatePricing('online');

            // Images
            if (course.images && course.images.length > 0) {
                // Use first image for online, second for offline if available
                courseImageOnline.src = course.images[0];
                courseImageOffline.src = course.images[1] || course.images[0];

                // Add error handling for images
                courseImageOnline.onerror = () => {
                    courseImageOnline.src = 'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80';
                };
                courseImageOffline.onerror = () => {
                    courseImageOffline.src = 'https://images.unsplash.com/photo-1495465798138-718f86d1a4bc?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80';
                };
            }

            // Course features
            if (course.features && course.features.length > 0) {
                courseFeatures.innerHTML = course.features.map(feature =>
                    `<div class="flex items-center">
                        <i class="fas fa-check-circle text-accent mr-3"></i>
                        <span>${feature}</span>
                    </div>`
                ).join('');
            }

            // Course description
            courseDescription.innerHTML = course.description.split('\n').map(paragraph =>
                `<p>${paragraph}</p>`
            ).join('');

            // What You'll Learn
            if (course.learn && course.learn.length > 0) {
                learnContainer.innerHTML = course.learn.map(point =>
                    `<div class="bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow hover:-translate-y-1">
                        <div class="flex items-start">
                            <i class="fas fa-check-circle text-primary mr-3 mt-1"></i>
                            <p>${point}</p>
                        </div>
                    </div>`
                ).join('');
            }

            // Curriculum
            if (course.curriculum && course.curriculum.length > 0) {
                curriculumContainer.innerHTML = course.curriculum.map((section, index) => `
                    <div class="mb-4 overflow-hidden rounded-xl shadow-sm">
                        <button class="accordion-header w-full flex justify-between items-center p-6 ${index % 2 === 0 ? 'bg-gray-50 hover:bg-gray-100' : 'bg-white hover:bg-gray-50'
                    } transition-colors">
                            <h3 class="text-xl font-semibold text-left">${section.section}</h3>
                            <i class="fas fa-chevron-down transition-transform"></i>
                        </button>
                        <div class="accordion-content ${index % 2 === 0 ? 'bg-white' : 'bg-gray-50'} max-h-0">
                            <div class="p-6 border-t">
                                <ul class="space-y-3">
                                    ${section.lectures.map(lecture =>
                        `<li class="flex items-center">
                                            <i class="fas fa-play-circle text-primary mr-3"></i>
                                            <span>${lecture}</span>
                                        </li>`
                    ).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            // Show content and hide loading
            loadingState.classList.add('hidden');
            courseContent.classList.remove('hidden');

            // Initialize interactive components
            initializeInteractiveComponents();
        }

        // Update pricing based on mode
        function updatePricing(mode) {
            if (!currentCourse) return;

            const hasOnlineDiscount = currentCourse.onlineOriginalPrice && currentCourse.onlineOriginalPrice > currentCourse.onlinePrice;
            const hasOfflineDiscount = currentCourse.offlineOriginalPrice && currentCourse.offlineOriginalPrice > currentCourse.offlinePrice;

            if (mode === 'online') {
                onlinePrice.textContent = formatINR(currentCourse.onlinePrice);

                if (hasOnlineDiscount) {
                    originalPrice.textContent = formatINR(currentCourse.onlineOriginalPrice);
                    originalPrice.classList.remove('hidden');

                    const discountPercent = Math.round(((currentCourse.onlineOriginalPrice - currentCourse.onlinePrice) / currentCourse.onlineOriginalPrice) * 100);
                    discountPercentage.textContent = `${discountPercent}% OFF`;
                    discountPercentage.classList.remove('hidden');
                } else {
                    originalPrice.classList.add('hidden');
                    discountPercentage.classList.add('hidden');
                }
            } else if (mode === 'offline') {
                if (currentCourse.offlinePrice) {
                    onlinePrice.textContent = formatINR(currentCourse.offlinePrice);

                    if (hasOfflineDiscount) {
                        originalPrice.textContent = formatINR(currentCourse.offlineOriginalPrice);
                        originalPrice.classList.remove('hidden');

                        const discountPercent = Math.round(((currentCourse.offlineOriginalPrice - currentCourse.offlinePrice) / currentCourse.offlineOriginalPrice) * 100);
                        discountPercentage.textContent = `${discountPercent}% OFF`;
                        discountPercentage.classList.remove('hidden');
                    } else {
                        originalPrice.classList.add('hidden');
                        discountPercentage.classList.add('hidden');
                    }
                } else {
                    // If offline price is not available
                    priceTag.innerHTML = `<span class="font-bold text-xl">Contact for Offline Pricing</span>`;
                }
            }
        }

        // Show error state
        function showErrorState() {
            loadingState.classList.add('hidden');
            errorState.classList.remove('hidden');
        }

        // Initialize interactive components
        function initializeInteractiveComponents() {
            // Mode toggle functionality
            const modeToggles = document.querySelectorAll('.mode-toggle');
            const heroSlides = document.querySelectorAll('.hero-slide');
            const modeDetails = document.querySelectorAll('.mode-details');

            function setMode(mode) {
                // Update toggle buttons
                modeToggles.forEach(toggle => {
                    if (toggle.dataset.mode === mode) {
                        toggle.classList.add('active');
                    } else {
                        toggle.classList.remove('active');
                    }
                });

                // Update slides
                heroSlides.forEach(slide => {
                    if (slide.dataset.mode === mode) {
                        slide.style.opacity = '1';
                    } else {
                        slide.style.opacity = '0';
                    }
                });

                // Update mode details
                modeDetails.forEach(detail => {
                    if (detail.dataset.mode === mode) {
                        detail.classList.remove('hidden');
                    } else {
                        detail.classList.add('hidden');
                    }
                });

                // Update pricing based on mode
                updatePricing(mode);

                // Show toast notification
                // showToast('Mode Changed', `Switched to ${mode} class mode`, 'info', 2000);

                // Add animation
                priceTag.classList.add('animate-pulse');
                setTimeout(() => {
                    priceTag.classList.remove('animate-pulse');
                }, 300);
            }

            modeToggles.forEach(toggle => {
                toggle.addEventListener('click', () => {
                    const mode = toggle.dataset.mode;
                    setMode(mode);
                });
            });

            // Accordion functionality
            const accordionHeaders = document.querySelectorAll('.accordion-header');

            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('i');

                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                        icon.style.transform = 'rotate(0deg)';
                    } else {
                        content.style.maxHeight = content.scrollHeight + 'px';
                        icon.style.transform = 'rotate(180deg)';
                    }
                });
            });

            // Enroll button functionality
            const enrollBtn = document.querySelector('.enroll-btn');
            enrollBtn.addEventListener('click', () => {
                const activeMode = document.querySelector('.mode-toggle.active').dataset.mode;
                const courseTitle = document.getElementById('course-title').textContent;

                showToast(
                    'Enrollment Process',
                    `Starting enrollment for ${activeMode} "${courseTitle}" course. You will be redirected to the enrollment page shortly.`,
                    'success',
                    4000
                );

                // Simulate redirect after delay
                setTimeout(() => {
                    // In a real implementation, you would redirect to the enrollment page
                    // window.location.href = `enroll.html?id=${getCourseIdFromURL()}&mode=${activeMode}`;
                    showToast('Redirecting', 'Taking you to the enrollment page...', 'info', 2000);
                }, 2000);
            });

            // CTA button functionality
            const ctaBtn = document.querySelector('.bg-white');
            ctaBtn.addEventListener('click', () => {
                showToast(
                    'Get Started',
                    'Exploring all available courses for you!',
                    'info',
                    3000
                );
            });

            // Scroll animations
            const observerOptions = {
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-fadeIn');
                    }
                });
            }, observerOptions);

            document.querySelectorAll('section').forEach(section => {
                observer.observe(section);
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function () {
            loadCourseData();
        });
    </script>
</body>

</html>